<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0">
    
    <!-- Begin Jekyll SEO tag v2.7.1 -->
<meta name="generator" content="Jekyll v4.1.1" />
<meta property="og:title" content="Dockstar: Does not boot with self-compiled Kernel?" />
<meta name="author" content="Dennis Schütt" />
<meta property="og:locale" content="en_US" />
<meta name="description" content="When I was trying to find proper kernel configs for the dockstar, I had to try several builds. Everytime my kernel didn’t boot I had to revert the arcNumber and install a working kernel again." />
<meta property="og:description" content="When I was trying to find proper kernel configs for the dockstar, I had to try several builds. Everytime my kernel didn’t boot I had to revert the arcNumber and install a working kernel again." />
<link rel="canonical" href="https://schuett.io/2011/03/dockstar-no-boot-self-compiled-kernel/" />
<meta property="og:url" content="https://schuett.io/2011/03/dockstar-no-boot-self-compiled-kernel/" />
<meta property="og:site_name" content="schuett.io" />
<meta property="og:image" content="https://schuett.io/postimg/linux.png" />
<meta property="og:type" content="article" />
<meta property="article:published_time" content="2011-03-18T15:35:14+01:00" />
<meta name="twitter:card" content="summary_large_image" />
<meta property="twitter:image" content="https://schuett.io/postimg/linux.png" />
<meta property="twitter:title" content="Dockstar: Does not boot with self-compiled Kernel?" />
<script type="application/ld+json">
{"author":{"@type":"Person","name":"Dennis Schütt"},"url":"https://schuett.io/2011/03/dockstar-no-boot-self-compiled-kernel/","image":"https://schuett.io/postimg/linux.png","headline":"Dockstar: Does not boot with self-compiled Kernel?","dateModified":"2011-03-18T15:35:14+01:00","datePublished":"2011-03-18T15:35:14+01:00","description":"When I was trying to find proper kernel configs for the dockstar, I had to try several builds. Everytime my kernel didn’t boot I had to revert the arcNumber and install a working kernel again.","mainEntityOfPage":{"@type":"WebPage","@id":"https://schuett.io/2011/03/dockstar-no-boot-self-compiled-kernel/"},"@type":"BlogPosting","@context":"https://schema.org"}</script>
<!-- End Jekyll SEO tag -->

    

    <title>Dockstar: Does not boot with self-compiled Kernel? &middot; schuett.io</title>

    <meta name="author" content="Dennis Schütt" />

    

    <link rel="alternate" type="application/rss+xml" title="schuett.io &middot; another tech blog.
" href="/feed.xml" />

    


    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" />
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" />
    
    

    

    

    <!-- inject:css -->
    <link rel="stylesheet" href="/assets/stylesheets/styles.css">
    <!-- endinject -->


    <!--
    Touch Icon Generator BY daik.de
    http://www.web-stuebchen.de
    Lizenz: GNU General Public License
    Copyright: 2014 - 2018 Stephan Heller [daik.de] <heller@daik.de>
    -->
    <link rel="shortcut icon" type="image/x-icon" href="/assets/images/favicon.ico">
    <link rel="icon" type="image/x-icon" href="/assets/images/favicon.ico">
    <link rel="icon" type="image/gif" href="/assets/images/favicon.gif">
    <link rel="icon" type="image/png" href="/assets/images/favicon.png">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon.png">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-57x57.png" sizes="57x57">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-60x60.png" sizes="60x60">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-72x72.png" sizes="72x72">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-76x76.png" sizes="76x76">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-114x114.png" sizes="114x114">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-120x120.png" sizes="120x120">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-128x128.png" sizes="128x128">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-144x144.png" sizes="144x144">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-152x152.png" sizes="152x152">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-180x180.png" sizes="180x180">
    <link rel="apple-touch-icon" href="/assets/images/apple-touch-icon-precomposed.png">
    <link rel="icon" type="image/png" href="/assets/images/favicon-16x16.png" sizes="16x16">
    <link rel="icon" type="image/png" href="/assets/images/favicon-32x32.png" sizes="32x32">
    <link rel="icon" type="image/png" href="/assets/images/favicon-96x96.png" sizes="96x96">
    <link rel="icon" type="image/png" href="/assets/images/favicon-160x160.png" sizes="160x160">
    <link rel="icon" type="image/png" href="/assets/images/favicon-192x192.png" sizes="192x192">
    <link rel="icon" type="image/png" href="/assets/images/favicon-196x196.png" sizes="196x196">
    <meta name="msapplication-TileColor" content="#ffffff">
    <meta name="msapplication-navbutton-color" content="#ffffff">
    <meta name="application-name" content="schuett.io"/>
    <meta name="msapplication-tooltip" content="schuett.io"/>
    <meta name="apple-mobile-web-app-title" content="schuett.io"/>

</head>


<body>

<!--[if lt IE 10]>
<p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade
    your browser</a> to improve your experience.</p>
<![endif]-->

<nav class="navbar navbar-default navbar-fixed-top navbar-custom">
  <div class="container-fluid">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#main-navbar">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      
        <a class="navbar-brand" href="https://schuett.io"> <span class="fa-layers fa-fw">
            <i class="far fa-window-maximize" style="" data-fa-transform=""></i>
            <i class="fas fa-chevron-left" data-fa-transform="shrink-13 down-2 left-4.7"></i>
            <i class="fas fa-chevron-right" data-fa-transform="shrink-13 down-2 right-4.7"></i>
            <i class="fas fa-cogs" data-fa-transform="shrink-11 down-2"></i>
        </span>
        <span>schuett.io</span></a>
      
    </div>

    <div class="collapse navbar-collapse" id="main-navbar">
      <ul class="nav navbar-nav navbar-right">
      
        
          <li>
            






<a href="/">Blog</a>

          </li>
        
        
        
          <li>
            






<a href="/tags">Tags</a>

          </li>
        
        
        
          <li>
            






<a href="/wtf">About</a>

          </li>
        
        
        
          <li>
            






<a href="/contact">Contact</a>

          </li>
        
        
        
          <li>
            






<a href="/imprint">Imprint</a>

          </li>
        
        

          
      </ul>
    </div>

	

  </div>
</nav>


<!-- TODO this file has become a mess, refactor it -->





<header class="header-section ">

<div class="intro-header no-img">
  <div class="container">
    <div class="row">
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
          <div class="page-image large">
          
              <picture><source srcset="/assets/images/postimg/linux-220-3eef370d9.webp 220w" type="image/webp"><source srcset="/assets/images/postimg/linux-220-3eef370d9.png 220w" type="image/png"><img src="/assets/images/postimg/linux-220-3eef370d9.png" width="220" height="259"></picture>

          
          </div>
      </div>
      <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
        <div class="post-heading">
          <h1>Dockstar: Does not boot with self-compiled Kernel?</h1>
		  

		  
		  <span class="post-meta">Posted on March 18, 2011</span>
		  
        </div>
      </div>
    </div>
  </div>
</div>
</header>





<div class="container">
    <div class="row">
        <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">

            

            <article role="main" class="blog-post">
                <p>When I was trying to find proper kernel configs for the dockstar, I had to try several builds. Everytime my kernel didn’t boot I had to revert the <code class="language-plaintext highlighter-rouge">arcNumber</code> and install a working kernel again.</p>

<p>There are two ways to test a kernel:</p>

<ol>
  <li>Grab another USB stick, make a backup and try the kernel on this backup. If you always do a new backup before testing another build, it will take a long time.</li>
  <li>Test the kernel on the running system (or a backup-stick) and reinstall another kernel in case yours wont boot. In difference to 1. you do this in a chrooted jail.</li>
</ol>

<p>I want to explain how you do the chroot thing with some lines. The first thing you have to do if the device wont boot is to detach all USB devices and let the dockstar boot into Pogoplug (remember the login: <code class="language-plaintext highlighter-rouge">root:stxadmin</code>). Then you only attach the USB stick you want to revert the kernel on!</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nb">mkdir</span> /tmp/disk
mount /dev/sda1 /tmp/disk <span class="c"># mount your rootfs</span>
<span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:/sbin:/usr/sbin

<span class="c"># go into jail</span>
<span class="nv">LANG</span><span class="o">=</span>C <span class="nb">chroot</span> /tmp/disk/ /bin/bash

<span class="c"># downgrade to heavykernel</span>
<span class="nb">cd</span> /tmp
wget 193.16.217.9/files/dockstarheavy.deb
dpkg <span class="nt">-i</span> <span class="nt">--force-overwrite</span> dockstarheavy.deb
<span class="nb">mv</span> /boot/uInitrd /boot/org1.uInitrd

<span class="c"># get out the jail</span>
<span class="nb">exit</span>

<span class="c"># change back the arcNumber</span>
<span class="nb">cd</span> /tmp
wget http://jeff.doozan.com/debian/uboot/fw_printenv
<span class="nb">chmod</span> +x fw_printenv
<span class="nb">ln</span> <span class="nt">-s</span> fw_printenv fw_setenv
./fw_setenv arcNumber 2097
</code></pre></div></div>

<p>Now you are ready to reboot the dockstar into your debian installation:</p>

<div class="language-bash highlighter-rouge"><div class="highlight"><pre class="highlight"><code>reboot
</code></pre></div></div>

            </article>

            
            <div class="blog-tags">
                Tags:
                
                
                <a href="/tags#Hardware">Hardware</a>
                
                <a href="/tags#Dockstar">Dockstar</a>
                
                <a href="/tags#Linux">Linux</a>
                
                <a href="/tags#Goflex">Goflex</a>
                
                <a href="/tags#Kernel">Kernel</a>
                
                
            </div>
            

            
            <!-- Check if any share-links are active -->





            

            <ul class="pager blog-pager">
                
                <li class="previous">
                    <a href="/2011/03/kernel-2-6-38-ready-to-use/" data-toggle="tooltip" data-placement="top" title="Dockstar: new Kernel 2.6.38 ready to use">&larr; Previous Post</a>
                </li>
                
                
                <li class="next">
                    <a href="/2011/04/android-pyload-app/" data-toggle="tooltip" data-placement="top" title="Android: pyLoad App">Next Post &rarr;</a>
                </li>
                
            </ul>

            
            <div class="disqus-comments">
                
<div class="comments">
	<div id="disqus_thread"></div>
	<script type="text/javascript">

	    var disqus_shortname = 'dev-shyd';
        var disqus_identifier = '694 http://dev.shyd.de/?p=694';
        var disqus_title = 'Dockstar: Does not boot with self-compiled Kernel?';

	    (function() {
	        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
	        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
	        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
	    })();

	</script>
	<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>


            </div>
            
        </div>
    </div>
</div>


<footer>
    <div class="container beautiful-jekyll-footer">
        <div class="row">
            <div class="col-lg-8 col-lg-offset-2 col-md-10 col-md-offset-1">
                <ul class="list-inline text-center footer-links"><li><a href="/feed.xml" title="RSS" target="_blank"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fas fa-rss fa-stack-1x fa-inverse"></i>
                </span>
                                    <span class="sr-only">RSS</span>
                                </a>
                    </li><li><a href="/contact" title="Email me"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fas fa-envelope fa-stack-1x fa-inverse"></i>
                </span>
                                    <span class="sr-only">Email me</span>
                                </a>
                    </li><li><a href="https://github.com/shyd" title="GitHub" target="_blank"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-github fa-stack-1x fa-inverse"></i>
                </span>
                                    <span class="sr-only">GitHub</span>
                                </a>
                    </li><li><a href="https://hub.docker.com/u/shyd" title="Docker" target="_blank"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-docker fa-stack-1x fa-inverse"></i>
                </span>
                                    <span class="sr-only">Docker</span>
                                </a>
                    </li><li><a href="https://www.instagram.com/d_nn__" title="Instagram" target="_blank"><span class="fa-stack fa-lg" aria-hidden="true">
                  <i class="fas fa-circle fa-stack-2x"></i>
                  <i class="fab fa-instagram fa-stack-1x fa-inverse"></i>
                </span>
                                    <span class="sr-only">Instagram</span>
                                </a>
                    </li></ul>
                <p class="copyright text-muted">
                    &copy; Dennis Schütt
                    &nbsp;&bull;&nbsp;
                    2020

                    
                    &nbsp;&bull;&nbsp;
                    made with ❤️ by <a href="https://schuett.io">schuett.io</a>
                    

                    
                </p>
                <!-- Please don't remove this, keep my open source work credited :) -->
                <p class="theme-by text-muted">
                    Theme by
                    <a href="http://deanattali.com/beautiful-jekyll/">beautiful-jekyll</a>
                </p>
            </div>
        </div>
    </div>
</footer>


<!-- inject:js -->
<script src="/assets/javascript/index.js"></script>
<!-- endinject -->



</body>
</html>
